<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 30 900 330">
  <defs>
    <style>
      .tufte-text {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #333;
        font-size: 14px;
      }
      .tufte-title {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #333;
        font-size: 16px;
        font-weight: bold;
      }
      .tufte-small {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #666;
        font-size: 12px;
      }
      .tufte-code {
        font-family: 'Monaco', 'Courier New', monospace;
        fill: #333;
        font-size: 11px;
      }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="900" height="420" fill="#ffffff"/>

  <!-- Left Side: Foundation -->
  <rect x="40" y="50" width="250" height="290" fill="#f9f9f9" stroke="#999" stroke-width="1" rx="5"/>
  <text x="165" y="75" class="tufte-title" text-anchor="middle">기반 계층</text>

  <!-- Two separate base OS paths -->
  <!-- r-base path: Debian testing -->
  <rect x="55" y="95" width="100" height="45" fill="#f5f5f5" stroke="#999" stroke-width="1" stroke-dasharray="3,2" rx="3"/>
  <text x="105" y="112" class="tufte-code" text-anchor="middle">debian:testing</text>
  <text x="105" y="128" class="tufte-small" text-anchor="middle" fill="#999">롤링 릴리스</text>

  <rect x="55" y="155" width="100" height="50" fill="#f5f5f5" stroke="#999" stroke-width="1" stroke-dasharray="3,2" rx="3"/>
  <text x="105" y="175" class="tufte-code" text-anchor="middle">r-base</text>
  <text x="105" y="192" class="tufte-small" text-anchor="middle" fill="#999">CRAN 공식</text>

  <!-- r-ver path: Ubuntu LTS -->
  <rect x="165" y="95" width="110" height="45" fill="#ddd" stroke="#333" stroke-width="2" rx="3"/>
  <text x="220" y="112" class="tufte-code" text-anchor="middle" font-weight="bold">ubuntu:jammy</text>
  <text x="220" y="128" class="tufte-small" text-anchor="middle" fill="#666">Ubuntu LTS</text>

  <rect x="165" y="155" width="110" height="50" fill="#e5e5e5" stroke="#666" stroke-width="1.5" rx="3"/>
  <text x="220" y="175" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/r-ver</text>
  <text x="220" y="192" class="tufte-small" text-anchor="middle" fill="#666">버전 고정 + RSPM</text>

  <!-- Arrows -->
  <path d="M 105 140 L 105 155" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>
  <path d="M 220 140 L 220 155" stroke="#666" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- Comparison note -->
  <text x="55" y="230" class="tufte-small" fill="#999">r-base: Debian, 최신 R, 롤링</text>
  <text x="55" y="248" class="tufte-small" fill="#999">r-ver: Ubuntu LTS, 버전 고정</text>
  <text x="55" y="275" class="tufte-small" fill="#999" font-style="italic">→ 재현성 필요시 rocker/r-ver</text>

  <!-- Note about kernel -->
  <!-- <rect x="55" y="310" width="220" height="65" fill="#fff" stroke="#ccc" stroke-width="1" rx="3"/>
  <text x="65" y="330" class="tufte-small" fill="#666">참고: 도커는 호스트 커널 공유</text>
  <text x="65" y="348" class="tufte-small" fill="#666">이미지는 Userspace만 포함</text>
  <text x="65" y="366" class="tufte-small" fill="#666">(파일시스템, 라이브러리)</text> -->

  <!-- Right Side: Rocker Family -->
  <rect x="310" y="50" width="550" height="290" fill="#fafafa" stroke="#999" stroke-width="1" rx="5"/>
  <text x="585" y="75" class="tufte-title" text-anchor="middle">Rocker 이미지 계열 (r-ver 기반)</text>

  <!-- RStudio branch -->
  <rect x="330" y="95" width="140" height="40" fill="#e8e8e8" stroke="#666" stroke-width="1.5" rx="3"/>
  <text x="400" y="112" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/rstudio</text>
  <text x="400" y="127" class="tufte-small" text-anchor="middle" fill="#666">+ RStudio Server</text>

  <rect x="330" y="150" width="140" height="40" fill="#f5f5f5" stroke="#666" stroke-width="1" rx="3"/>
  <text x="400" y="167" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/tidyverse</text>
  <text x="400" y="182" class="tufte-small" text-anchor="middle" fill="#666">+ tidyverse</text>

  <rect x="330" y="205" width="140" height="40" fill="#fff" stroke="#666" stroke-width="1" rx="3"/>
  <text x="400" y="222" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/verse</text>
  <text x="400" y="237" class="tufte-small" text-anchor="middle" fill="#666">+ 쿼토, LaTeX (출판)</text>

  <!-- geospatial and ml-verse: PARALLEL branches from verse -->
  <rect x="330" y="260" width="130" height="50" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="3"/>
  <text x="395" y="278" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/geospatial</text>
  <text x="395" y="296" class="tufte-small" text-anchor="middle" fill="#666">+ GDAL, sf, terra</text>

  <rect x="470" y="260" width="130" height="50" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="3"/>
  <text x="535" y="278" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/ml-verse</text>
  <text x="535" y="296" class="tufte-small" text-anchor="middle" fill="#666">+ torch, keras</text>

  <!-- Shiny branch -->
  <rect x="500" y="95" width="140" height="40" fill="#e8e8e8" stroke="#666" stroke-width="1.5" rx="3"/>
  <text x="570" y="112" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/shiny</text>
  <text x="570" y="127" class="tufte-small" text-anchor="middle" fill="#666">+ Shiny Server</text>

  <rect x="500" y="150" width="140" height="40" fill="#f5f5f5" stroke="#666" stroke-width="1" rx="3"/>
  <text x="570" y="167" class="tufte-code" text-anchor="middle" font-weight="bold">rocker/shiny-verse</text>
  <text x="570" y="182" class="tufte-small" text-anchor="middle" fill="#666">+ tidyverse (분석)</text>

  <!-- Independent images -->
  <rect x="620" y="195" width="220" height="115" fill="#f9f9f9" stroke="#666" stroke-width="1" stroke-dasharray="4,2" rx="3"/>
  <text x="730" y="215" class="tufte-small" text-anchor="middle" fill="#999">독립/특수 목적 이미지</text>

  <rect x="630" y="225" width="95" height="35" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="2"/>
  <text x="677" y="240" class="tufte-code" text-anchor="middle">rocker/cuda</text>
  <text x="677" y="254" class="tufte-small" text-anchor="middle" fill="#999">GPU</text>

  <rect x="735" y="225" width="95" height="35" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="2"/>
  <text x="782" y="240" class="tufte-code" text-anchor="middle">rocker/binder</text>
  <text x="782" y="254" class="tufte-small" text-anchor="middle" fill="#999">Jupyter</text>

  <rect x="630" y="268" width="95" height="35" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="2"/>
  <text x="677" y="283" class="tufte-code" text-anchor="middle">rocker/ml</text>
  <text x="677" y="297" class="tufte-small" text-anchor="middle" fill="#999">ML+CUDA</text>

  <rect x="735" y="268" width="95" height="35" fill="#e8e8e8" stroke="#666" stroke-width="1" rx="2"/>
  <text x="782" y="283" class="tufte-code" text-anchor="middle">rocker/r-devel</text>
  <text x="782" y="297" class="tufte-small" text-anchor="middle" fill="#999">개발버전</text>

  <!-- Branch inheritance arrows -->
  <path d="M 400 135 L 400 150" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>
  <path d="M 400 190 L 400 205" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>
  <!-- verse → geospatial (left branch) -->
  <path d="M 385 245 L 395 260" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>
  <!-- verse → ml-verse (right branch) -->
  <path d="M 415 245 L 535 260" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>
  <path d="M 570 135 L 570 150" stroke="#999" stroke-width="1" fill="none" marker-end="url(#arrow)"/>

  <!-- Usage labels -->
  <text x="395" y="325" class="tufte-small" text-anchor="middle" fill="#999">공간정보</text>
  <text x="530" y="325" class="tufte-small" text-anchor="middle" fill="#999">기계학습</text>
  <text x="570" y="210" class="tufte-small" text-anchor="middle" fill="#999">앱 배포</text>

  <!-- Arrows from r-ver to branches -->
  <path d="M 275 180 L 330 115" stroke="#999" stroke-width="1.3" fill="none" marker-end="url(#arrow)"/>
  <path d="M 275 180 L 500 115" stroke="#999" stroke-width="1.3" fill="none" marker-end="url(#arrow)"/>
  <path d="M 275 180 L 620 250" stroke="#999" stroke-width="1.3" fill="none" marker-end="url(#arrow)"/>

</svg>
