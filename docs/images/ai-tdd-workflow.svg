<svg xmlns="http://www.w3.org/2000/svg" viewBox="-60 0 920 500">
  <defs>
    <style>
      .tufte-text {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #333;
        font-size: 14px;
      }
      .tufte-title {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #333;
        font-size: 18px;
        font-weight: bold;
      }
      .tufte-subtitle {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #666;
        font-size: 13px;
        font-style: italic;
      }
      .tufte-small {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #666;
        font-size: 11px;
      }
      .tufte-code {
        font-family: 'Monaco', 'Courier New', monospace;
        fill: #333;
        font-size: 12px;
      }
      .tufte-label {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #555;
        font-size: 12px;
        font-style: italic;
      }
      .phase-title {
        font-family: Palatino, 'Book Antiqua', Georgia, serif;
        fill: #333;
        font-size: 16px;
        font-weight: bold;
      }
      .insight-box {
        fill: #fff;
        stroke: #333;
        stroke-width: 1;
        stroke-dasharray: 4 2;
      }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect x="-60" y="0" width="920" height="500" fill="#ffffff"/>

  <!-- Title -->
  <text x="400" y="35" class="tufte-title" text-anchor="middle">AI 시대 TDD 워크플로우</text>
  <text x="400" y="55" class="tufte-subtitle" text-anchor="middle">Red-Green-Refactor with Human-AI Collaboration</text>

  <!-- Central cycle - three phases arranged in triangle -->

  <!-- RED Phase (Top) - Human -->
  <g transform="translate(400, 140)">
    <!-- Circle background -->
    <circle cx="0" cy="0" r="70" fill="#f5f5f5" stroke="#333" stroke-width="2"/>

    <!-- Human icon -->
    <circle cx="0" cy="-25" r="12" fill="none" stroke="#333" stroke-width="2"/>
    <line x1="0" y1="-13" x2="0" y2="10" stroke="#333" stroke-width="2"/>
    <line x1="-15" y1="0" x2="15" y2="0" stroke="#333" stroke-width="2"/>
    <line x1="0" y1="10" x2="-10" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="0" y1="10" x2="10" y2="30" stroke="#333" stroke-width="2"/>

    <!-- Label -->
    <text x="0" y="55" class="phase-title" text-anchor="middle">RED</text>
  </g>

  <!-- RED description box -->
  <g transform="translate(400, 140)">
    <rect x="90" y="-50" width="180" height="100" fill="#f9f9f9" stroke="#999" stroke-width="1" rx="5"/>
    <text x="180" y="-25" class="tufte-text" text-anchor="middle" font-weight="bold">실패하는 테스트 작성</text>
    <line x1="105" y1="-15" x2="255" y2="-15" stroke="#ccc" stroke-width="1"/>
    <text x="180" y="5" class="tufte-small" text-anchor="middle">• 원하는 동작 정의</text>
    <text x="180" y="22" class="tufte-small" text-anchor="middle">• 입력/출력 명시</text>
    <text x="180" y="39" class="tufte-small" text-anchor="middle">• 경계 조건 고려</text>
    <line x1="70" y1="0" x2="88" y2="0" stroke="#666" stroke-width="1"/>
  </g>

  <!-- Human label for RED -->
  <text x="400" y="230" class="tufte-label" text-anchor="middle">인간의 핵심 역량</text>

  <!-- GREEN Phase (Bottom Left) - AI -->
  <g transform="translate(220, 360)">
    <!-- Circle background -->
    <circle cx="0" cy="0" r="70" fill="#e8e8e8" stroke="#333" stroke-width="2"/>

    <!-- Robot/AI icon -->
    <rect x="-18" y="-30" width="36" height="30" fill="none" stroke="#333" stroke-width="2" rx="5"/>
    <line x1="0" y1="-30" x2="0" y2="-40" stroke="#333" stroke-width="2"/>
    <circle cx="0" cy="-44" r="4" fill="#333"/>
    <rect x="-12" y="-22" width="8" height="8" fill="#333" rx="1"/>
    <rect x="4" y="-22" width="8" height="8" fill="#333" rx="1"/>
    <line x1="-10" y1="-6" x2="10" y2="-6" stroke="#333" stroke-width="2"/>
    <rect x="-14" y="4" width="28" height="16" fill="none" stroke="#333" stroke-width="2" rx="3"/>

    <!-- Label -->
    <text x="0" y="55" class="phase-title" text-anchor="middle">GREEN</text>
  </g>

  <!-- GREEN description box -->
  <g transform="translate(220, 360)">
    <rect x="-270" y="-50" width="180" height="100" fill="#f9f9f9" stroke="#999" stroke-width="1" rx="5"/>
    <text x="-180" y="-25" class="tufte-text" text-anchor="middle" font-weight="bold">테스트 통과 코드 생성</text>
    <line x1="-255" y1="-15" x2="-105" y2="-15" stroke="#ccc" stroke-width="1"/>
    <text x="-180" y="5" class="tufte-small" text-anchor="middle">• AI가 코드 작성</text>
    <text x="-180" y="22" class="tufte-small" text-anchor="middle">• 빠른 프로토타이핑</text>
    <text x="-180" y="39" class="tufte-small" text-anchor="middle">• 다양한 구현 제안</text>
    <line x1="-70" y1="0" x2="-88" y2="0" stroke="#666" stroke-width="1"/>
  </g>

  <!-- AI label for GREEN -->
  <text x="220" y="450" class="tufte-label" text-anchor="middle">AI 에이전트</text>

  <!-- REFACTOR Phase (Bottom Right) - Human + AI -->
  <g transform="translate(580, 360)">
    <!-- Circle background -->
    <circle cx="0" cy="0" r="70" fill="#ddd" stroke="#333" stroke-width="2"/>

    <!-- Human + AI icons side by side -->
    <circle cx="-20" cy="-20" r="8" fill="none" stroke="#333" stroke-width="1.5"/>
    <line x1="-20" y1="-12" x2="-20" y2="2" stroke="#333" stroke-width="1.5"/>
    <line x1="-28" y1="-5" x2="-12" y2="-5" stroke="#333" stroke-width="1.5"/>
    <line x1="-20" y1="2" x2="-26" y2="15" stroke="#333" stroke-width="1.5"/>
    <line x1="-20" y1="2" x2="-14" y2="15" stroke="#333" stroke-width="1.5"/>

    <!-- Plus sign -->
    <line x1="-2" y1="-5" x2="8" y2="-5" stroke="#666" stroke-width="2"/>
    <line x1="3" y1="-10" x2="3" y2="0" stroke="#666" stroke-width="2"/>

    <!-- Small robot -->
    <rect x="15" y="-25" width="20" height="18" fill="none" stroke="#333" stroke-width="1.5" rx="3"/>
    <rect x="19" y="-20" width="5" height="5" fill="#333" rx="1"/>
    <rect x="26" y="-20" width="5" height="5" fill="#333" rx="1"/>
    <line x1="20" y1="-10" x2="30" y2="-10" stroke="#333" stroke-width="1.5"/>
    <rect x="17" y="-4" width="16" height="10" fill="none" stroke="#333" stroke-width="1.5" rx="2"/>

    <!-- Label -->
    <text x="0" y="55" class="phase-title" text-anchor="middle">REFACTOR</text>
  </g>

  <!-- REFACTOR description box -->
  <g transform="translate(580, 360)">
    <rect x="90" y="-50" width="180" height="100" fill="#f9f9f9" stroke="#999" stroke-width="1" rx="5"/>
    <text x="180" y="-25" class="tufte-text" text-anchor="middle" font-weight="bold">코드 리뷰 및 개선</text>
    <line x1="105" y1="-15" x2="255" y2="-15" stroke="#ccc" stroke-width="1"/>
    <text x="180" y="5" class="tufte-small" text-anchor="middle">• 코드 품질 검토</text>
    <text x="180" y="22" class="tufte-small" text-anchor="middle">• 리팩토링 제안</text>
    <text x="180" y="39" class="tufte-small" text-anchor="middle">• 최적화 협업</text>
    <line x1="70" y1="0" x2="88" y2="0" stroke="#666" stroke-width="1"/>
  </g>

  <!-- Collaboration label for REFACTOR -->
  <text x="580" y="450" class="tufte-label" text-anchor="middle">인간 + AI 협업</text>

  <!-- Arrows connecting phases -->
  
  <!-- RED to GREEN -->
  <path d="M 340 195 Q 250 280 260 290" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <rect x="200" y="235" width="80" height="18" fill="white" fill-opacity="0.9"/>
  <text x="245" y="248" class="tufte-small" text-anchor="middle">테스트 전달</text>

  <!-- GREEN to REFACTOR -->
  <path d="M 290 360 L 500 360" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <rect x="355" y="340" width="80" height="18" fill="white" fill-opacity="0.9"/>
  <text x="395" y="353" class="tufte-small" text-anchor="middle">코드 생성 완료</text>

  <!-- REFACTOR to RED -->
  <path d="M 540 295 Q 480 230 460 210" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <rect x="505" y="235" width="70" height="18" fill="white" fill-opacity="0.9"/>
  <text x="540" y="248" class="tufte-small" text-anchor="middle">다음 기능</text>

  <!-- Key Insight Box (Moved to Center) -->
  <g transform="translate(400, 285)">
    <rect x="-100" y="-25" width="200" height="50" class="insight-box" rx="5"/>
    <text x="0" y="-5" class="tufte-text" text-anchor="middle" font-weight="bold" font-size="13px">Test as a Prompt</text>
    <text x="0" y="15" class="tufte-small" text-anchor="middle">(테스트가 곧 프롬프트)</text>
  </g>

  <!-- Legend -->
  <g transform="translate(30, 460)">
    <rect x="0" y="0" width="15" height="15" fill="#f5f5f5" stroke="#333" stroke-width="1"/>
    <text x="22" y="12" class="tufte-small">인간 주도</text>

    <rect x="100" y="0" width="15" height="15" fill="#e8e8e8" stroke="#333" stroke-width="1"/>
    <text x="122" y="12" class="tufte-small">AI 주도</text>

    <rect x="190" y="0" width="15" height="15" fill="#ddd" stroke="#333" stroke-width="1"/>
    <text x="212" y="12" class="tufte-small">협업</text>
  </g>

</svg>