<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <style>
      /* Tufte Style: Grayscale, Serif font, minimal decoration */
      .tufte-text { font-family: Palatino, 'Book Antiqua', Georgia, serif; fill: #333; }
      .title { font-size: 20px; font-weight: bold; }
      .subtitle { font-size: 13px; fill: #666; }
      .h2 { font-size: 15px; font-weight: bold; fill: #444; }
      .label { font-size: 13px; font-weight: 600; }
      .detail { font-size: 11px; fill: #666; }
      .note { font-size: 10px; fill: #888; font-style: italic; }
      .zone-bg { fill: #fafafa; stroke: #d0d0d0; stroke-width: 1; }
      .sub-module { fill: #fff; stroke: #999; stroke-width: 1; }
      .flow-line { fill: none; stroke: #666; stroke-width: 1.5; marker-end: url(#arrow); }
      .flow-bidir { fill: none; stroke: #666; stroke-width: 1.5; marker-start: url(#arrow-back); marker-end: url(#arrow); }
      .flow-dashed { stroke-dasharray: 4,3; }
    </style>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
      <path d="M 0 0 L 8 4 L 0 8 z" fill="#666" />
    </marker>
    <marker id="arrow-back" markerWidth="8" markerHeight="8" refX="1" refY="4" orient="auto">
      <path d="M 8 0 L 0 4 L 8 8 z" fill="#666" />
    </marker>
  </defs>

  <rect x="0" y="0" width="900" height="700" fill="#ffffff"/>

  <text x="450" y="40" text-anchor="middle" class="tufte-text title">데이터 과학 IDE 아키텍처</text>
  <text x="450" y="60" text-anchor="middle" class="tufte-text subtitle">VS Code 기반 (Positron, Cursor 등)</text>

  <!-- Layer 1: Client UI -->
  <rect x="50" y="90" width="800" height="120" rx="4" class="zone-bg" />
  <text x="70" y="115" class="tufte-text h2">1. 클라이언트 UI 계층</text>
  <text x="70" y="133" class="tufte-text note">Electron 프로세스 — 사용자 인터페이스</text>

  <rect x="100" y="145" width="180" height="50" class="sub-module"/>
  <text x="190" y="165" text-anchor="middle" class="tufte-text label">코드 편집기</text>
  <text x="190" y="183" text-anchor="middle" class="tufte-text detail">편집, 구문 강조</text>

  <rect x="310" y="145" width="180" height="50" class="sub-module"/>
  <text x="400" y="165" text-anchor="middle" class="tufte-text label">결과 뷰어</text>
  <text x="400" y="183" text-anchor="middle" class="tufte-text detail">플롯, 표 표시</text>

  <rect x="520" y="145" width="150" height="50" class="sub-module"/>
  <text x="595" y="165" text-anchor="middle" class="tufte-text label">터미널</text>
  <text x="595" y="183" text-anchor="middle" class="tufte-text detail">쉘 실행</text>

  <rect x="700" y="145" width="120" height="50" class="sub-module"/>
  <text x="760" y="165" text-anchor="middle" class="tufte-text label">사이드바</text>
  <text x="760" y="183" text-anchor="middle" class="tufte-text detail">파일, Git</text>

  <!-- Connection: UI to Extension Host -->
  <path d="M 350 210 L 350 250" class="flow-bidir" />
  <text x="360" y="232" class="tufte-text note">IPC</text>

  <!-- Layer 2: Extension Host -->
  <rect x="50" y="250" width="400" height="130" rx="4" class="zone-bg" />
  <text x="70" y="275" class="tufte-text h2">2. Extension Host</text>
  <text x="70" y="293" class="tufte-text note">별도 프로세스 — 확장 프로그램 격리 실행</text>

  <rect x="80" y="305" width="170" height="60" class="sub-module"/>
  <text x="165" y="325" text-anchor="middle" class="tufte-text label">Python Extension</text>
  <text x="165" y="340" text-anchor="middle" class="tufte-text detail">커널 관리</text>
  <text x="165" y="355" text-anchor="middle" class="tufte-text detail">디버거, 포매터</text>

  <rect x="260" y="305" width="170" height="60" class="sub-module"/>
  <text x="345" y="325" text-anchor="middle" class="tufte-text label">언어 서버 (LSP)</text>
  <text x="345" y="340" text-anchor="middle" class="tufte-text detail">Pylance, R LSP</text>
  <text x="345" y="355" text-anchor="middle" class="tufte-text detail">자동 완성, 분석</text>

  <!-- Connection: Extension Host to Kernel -->
  <path d="M 350 380 L 550 430" class="flow-bidir" />
  <text x="430" y="410" class="tufte-text note">Jupyter 프로토콜 (ZMQ)</text>

  <!-- Layer 3: Kernel -->
  <rect x="470" y="430" width="380" height="130" rx="4" class="zone-bg" />
  <text x="490" y="455" class="tufte-text h2">3. 커널 레이어</text>
  <text x="490" y="473" class="tufte-text note">별도 프로세스 — 코드 실행 및 메모리 상태 관리</text>

  <rect x="500" y="485" width="160" height="60" class="sub-module"/>
  <text x="580" y="505" text-anchor="middle" class="tufte-text label">Python 커널</text>
  <text x="580" y="520" text-anchor="middle" class="tufte-text detail">IPython</text>
  <text x="580" y="535" text-anchor="middle" class="tufte-text detail">변수, 연산</text>

  <rect x="670" y="485" width="160" height="60" class="sub-module"/>
  <text x="750" y="505" text-anchor="middle" class="tufte-text label">R 커널</text>
  <text x="750" y="520" text-anchor="middle" class="tufte-text detail">IRkernel</text>
  <text x="750" y="535" text-anchor="middle" class="tufte-text detail">R 런타임</text>

  <!-- Connection: to Storage -->
  <path d="M 240 380 L 240 595" class="flow-line flow-dashed" />
  <path d="M 660 560 L 660 595" class="flow-line" />
  <text x="680" y="580" class="tufte-text note">I/O</text>

  <!-- Layer 4: Storage & External -->
  <rect x="50" y="595" width="800" height="90" rx="4" class="zone-bg" />
  <text x="70" y="620" class="tufte-text h2">4. 인프라 및 외부 서비스</text>

  <rect x="80" y="640" width="160" height="35" class="sub-module"/>
  <text x="160" y="658" text-anchor="middle" class="tufte-text label">로컬 파일</text>
  <text x="160" y="670" text-anchor="middle" class="tufte-text detail">.py, .ipynb, CSV</text>

  <rect x="260" y="640" width="160" height="35" class="sub-module"/>
  <text x="340" y="658" text-anchor="middle" class="tufte-text label">Git 저장소</text>
  <text x="340" y="670" text-anchor="middle" class="tufte-text detail">버전 관리</text>

  <rect x="440" y="640" width="160" height="35" class="sub-module"/>
  <text x="520" y="658" text-anchor="middle" class="tufte-text label">데이터베이스</text>
  <text x="520" y="670" text-anchor="middle" class="tufte-text detail">SQL, NoSQL</text>

  <rect x="620" y="640" width="210" height="35" class="sub-module"/>
  <text x="725" y="658" text-anchor="middle" class="tufte-text label">클라우드 / 원격</text>
  <text x="725" y="670" text-anchor="middle" class="tufte-text detail">S3, SSH, Container</text>
</svg>
